<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="h1_register" pageWidth="700" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="660" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="5cabdd2a-9eaa-4a9f-8dd8-6777e814a786">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="dataset1" uuid="acba1ba7-aacb-4277-bd24-f499a00e35ba">
		<parameter name="W_Store_Id" class="java.lang.Integer"/>
		<queryString>
			<![CDATA[select * from gen_m_store where id=$P{W_Store_Id}]]>
		</queryString>
		<field name="id" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="company_id" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="code" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="name" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="registration_date" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="termination_date" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="currency_id" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="latitude" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="longitude" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="address" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="state" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="country" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="postcode" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="email" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="mail_password" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="phone" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="fax" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="tax_reg_no" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="tax_per" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="vat_per" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="dl_licence_no" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="dl_registration_date" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="dl_expiry_date" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="state_licence_no" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="state_registration_date" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="state_expiry_date" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="state_id" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="is_esi" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="is_active" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="is_default" class="java.lang.Integer">
			<fieldDescription><![CDATA[be sure the one store can be isdefault =1 against any company]]></fieldDescription>
		</field>
		<field name="is_deleted" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="created_by" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="created_date" class="java.sql.Timestamp">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="updated_by" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="updated_date" class="java.sql.Timestamp">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="tax_reg_no_text" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="mail_port" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="mail_smtp" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="is_mail_enable" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="is_exclusive" class="java.lang.Integer">
			<fieldDescription><![CDATA[0-- tax inclusive on rate/mrp :: 1-- tax exclusive on rate/mrp]]></fieldDescription>
		</field>
	</subDataset>
	<parameter name="W_companyID" class="java.lang.Integer">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="W_storeID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="W_finyrID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="W_startDate" class="java.util.Date"/>
	<parameter name="W_endDate" class="java.util.Date"/>
	<parameter name="W_doctorID" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT
    d.name doctor_name,
    i.name item_name,
    sd.inv_date,
    concat(sd.pack_qty,'/',sd.loose_qty ,' [',convert((sd.pack_qty*sd.conversion)+sd.loose_qty,UNSIGNED INTEGER),'] ') pack,
    #sd.pack_qty pack_qty,
    #sd.loose_qty l_qty,
    m.name mfg,st.name store_name,st.address,st.email,st.phone,st.dl_licence_no
FROM
    pharmacypos.sal_t_sale s
        left join
    sal_t_sale_details sd ON sd.sale_id = s.id
        left join
    in_m_doctor d ON d.id = s.doctor_id
        left join
    in_m_item i ON i.id = sd.item_id
        left join
    in_m_manufacturer m ON m.id = i.manufacturer_id
        left join
    gen_m_store st on st.id=s.store_id
where
    s.doctor_id != '00000000000'
    and sd.inv_date between $P{W_startDate} and $P{W_endDate}
    and sd.store_id = $P{W_storeID}
    and sd.company_id=$P{W_companyID}
    and sd.finyr_id = $P{W_finyrID}
    and s.is_deleted=0
    and s.hold_flag=1
    and (
            ( s.doctor_id=$P{W_doctorID} and ifnull($P{W_doctorID},0) <> 0   )

            or
            ( ifnull($P{W_doctorID},0)=0  )

          )
order by d.name,i.name asc;]]>
	</queryString>
	<field name="doctor_name" class="java.lang.String"/>
	<field name="item_name" class="java.lang.String"/>
	<field name="inv_date" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="pack" class="java.lang.String"/>
	<field name="mfg" class="java.lang.String"/>
	<field name="store_name" class="java.lang.String"/>
	<field name="address" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="email" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="phone" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dl_licence_no" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="grpNum" class="java.lang.Integer" incrementType="Group" incrementGroup="inv_no" calculation="Count">
		<variableExpression><![CDATA[]]></variableExpression>
	</variable>
	<group name="date">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band height="3"/>
		</groupHeader>
		<groupFooter>
			<band height="3"/>
		</groupFooter>
	</group>
	<group name="inv_no">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="72" splitType="Stretch">
			<staticText>
				<reportElement x="181" y="9" width="182" height="12" uuid="fda35791-01e3-4a2b-988b-30b26c173857"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="true" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[DOCTOR WISE SALES REGISTER]]></text>
			</staticText>
			<staticText>
				<reportElement x="181" y="53" width="182" height="12" uuid="62bbfba3-25e0-4428-bc4a-690249b7ab56"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Period of Reporting From :]]></text>
			</staticText>
			<staticText>
				<reportElement x="506" y="53" width="40" height="12" uuid="0f4c00ae-a89d-4afe-a640-3c28fe7ea31d"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[To:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="363" y="53" width="140" height="12" backcolor="#FFFFFF" uuid="d3674cb6-3b8d-45a4-9e61-4f5efadafb99"/>
				<textElement textAlignment="Left">
					<font size="9" isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{W_startDate}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="548" y="53" width="111" height="12" backcolor="#FFFFFF" uuid="2027b4cf-3a8c-4f0c-b473-ed7930231eb3"/>
				<textElement textAlignment="Left">
					<font size="9" isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{W_endDate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="57" y="22" width="122" height="12" uuid="d1ceefa2-8c03-4d8c-a81e-6f18731c8d55"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Name of the Pharmacy :]]></text>
			</staticText>
			<staticText>
				<reportElement x="57" y="36" width="122" height="12" uuid="6800a9b6-4bc6-4c83-a000-5f4f5ac0efad"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Address :]]></text>
			</staticText>
			<textField>
				<reportElement x="181" y="22" width="182" height="12" backcolor="#FFFFFF" uuid="94f4b44c-d6c9-4b9a-a8fc-348a46c443c4"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="9" isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{store_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="181" y="36" width="182" height="12" backcolor="#FFFFFF" uuid="9b46fff3-6877-44e5-8006-66107d1bdc47"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="9" isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{address}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="506" y="9" width="40" height="12" uuid="1f049bdf-4038-4c1d-a9c3-6b9a04f72811"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[D/L No. :]]></text>
			</staticText>
			<staticText>
				<reportElement x="506" y="22" width="40" height="12" uuid="1f0f1648-eb4d-4ae1-87ae-f75c266dada4"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[Ph. No.:]]></text>
			</staticText>
			<textField>
				<reportElement x="548" y="22" width="111" height="12" backcolor="#FFFFFF" uuid="5fc3c43e-1403-498c-99f2-c31e7c2d7ac7"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="9" isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{phone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="548" y="9" width="111" height="12" backcolor="#FFFFFF" uuid="1d6febf4-1243-4a53-9687-d53a849318d0"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="9" isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dl_licence_no}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="16">
			<staticText>
				<reportElement x="99" y="2" width="122" height="12" uuid="15397f77-d90c-453d-8228-7c49b248e20f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Doctor Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="222" y="2" width="182" height="12" uuid="6341fdb0-3b2a-4bfb-9fa2-9c3f1e7c9eb2"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Item Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="4" y="2" width="94" height="12" uuid="6ddc8546-44c2-493e-8667-2f6b0e215367"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Date ]]></text>
			</staticText>
			<staticText>
				<reportElement x="405" y="2" width="98" height="12" uuid="aff85966-451b-4869-95c1-7c8b88530980"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Sale Qty]]></text>
			</staticText>
			<staticText>
				<reportElement x="504" y="2" width="155" height="12" uuid="03b9726f-8327-4b10-8f8d-103e961cfb79"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[MFG]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="99" y="0" width="122" height="12" isPrintWhenDetailOverflows="true" printWhenGroupChanges="inv_no" uuid="95b739cf-3b80-4a1e-9ded-6b4596cac91b"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{doctor_name}]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="222" y="0" width="182" height="12" isPrintWhenDetailOverflows="true" printWhenGroupChanges="inv_no" uuid="512d0a49-e061-426d-8c43-6e453dd17fad"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{item_name}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="4" y="0" width="94" height="12" isPrintWhenDetailOverflows="true" uuid="46f5aa25-72a9-481a-ae5e-209e87b5014d"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{inv_date}]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="405" y="0" width="98" height="12" isPrintWhenDetailOverflows="true" printWhenGroupChanges="inv_no" uuid="fb57ab28-4675-4b55-a1c7-a8d8fa3166a4"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{pack}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="504" y="0" width="155" height="12" isPrintWhenDetailOverflows="true" printWhenGroupChanges="inv_no" uuid="a1b9875f-497a-41bd-aceb-be581b07b1af"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{mfg}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="3"/>
	</pageFooter>
	<summary>
		<band height="14" splitType="Stretch"/>
	</summary>
</jasperReport>
